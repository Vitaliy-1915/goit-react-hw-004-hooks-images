(this["webpackJsonpgoit-react-hw-004-hooks-images"]=this["webpackJsonpgoit-react-hw-004-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__126lY",modal:"Modal_modal__2-XA9"}},13:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1aO8M"}},14:function(e,t,a){e.exports={button:"Button_button__2_pwb"}},20:function(e,t,a){},21:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2nKga",form:"Searchbar_form__36pS6",button:"Searchbar_button__vmJ49",buttonLabel:"Searchbar_buttonLabel__-JJfe",input:"Searchbar_input__jzXt-"}},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),i=(a(20),a(11)),s=a(3),l=(a(21),a(12)),u=a.n(l),b=a(15),m=a(4),j=a.n(m),d=a(1);var h=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:j.a.searchbar,children:Object(d.jsxs)("form",{className:j.a.form,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):alert("Enter images and photos")},children:[Object(d.jsx)("button",{type:"submit",className:j.a.button,children:Object(d.jsx)("span",{className:j.a.buttonLabel,children:Object(d.jsx)(b.a,{size:"2em"})})}),Object(d.jsx)("input",{className:j.a.input,type:"text",name:"imageName",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},autocomplete:"off",placeholder:"Search images and photos"})]})})},g=a(9),f=a.n(g);var O=function(e){var t=e.tags,a=e.smallImage,n=e.openModal;return Object(d.jsx)("li",{className:f.a.galleryItem,onClick:n,children:Object(d.jsx)("img",{className:f.a.galleryItemImage,src:a,alt:t})})},p=a(13),_=a.n(p);var v=function(e){var t=e.images,a=e.openModal;return Object(d.jsx)("ul",{className:_.a.imageGallery,children:t.map((function(e){return Object(d.jsx)(O,{tag:e.tags,smallImage:e.webformatURL,openModal:function(){return a(e.largeImageURL,e.tags)}},e.id)}))})},x=a(14),y=a.n(x);var S=function(e){var t=e.onClick;return Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"button",className:y.a.button,onClick:t,children:"Load more"})})},w=a(10),I=a.n(w),N=document.querySelector("#modal-root");var k=function(e){var t=e.closeModal,a=e.image;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(d.jsx)("div",{className:I.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:I.a.modal,children:Object(d.jsx)("img",{src:a.src,alt:a.alt})})}),N)};var M={fetchApi:function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("21859800-af94843fb327cc57780ddd667","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There is no images with name ".concat(e)))}))}};var E=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(s.a)(r,2),l=o[0],b=o[1],m=Object(n.useState)([]),j=Object(s.a)(m,2),g=j[0],f=j[1],O=Object(n.useState)(null),p=Object(s.a)(O,2),_=p[0],x=p[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),I=w[0],N=w[1],E=Object(n.useState)(null),L=Object(s.a)(E,2),C=L[0],G=L[1],J=Object(n.useState)("idle"),A=Object(s.a)(J,2),T=A[0],z=A[1];Object(n.useEffect)((function(){a&&(z("pending"),M.fetchApi(a,l).then((function(e){return e.hits})).then((function(e){f((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),z("resolved"),l!==b&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})).catch((function(e){x(e),z("rejected")})))}),[a,l]);var B=function(e,t){N(!I),G({src:e,alt:t})},F=function(){b(1),f([]),z("idle")};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{onSubmit:function(e){c(e),F()}}),"idle"===T&&Object(d.jsx)("h1",{children:"Start your search "}),"pending"===T&&Object(d.jsx)(u.a,{type:"Watch",color:"#00BFFF",height:150,width:150,timeout:3e3}),"rejected"===T&&Object(d.jsx)("h1",{children:_.message}),"resolved"===T&&g.length<1&&Object(d.jsx)("h2",{children:"invalid name!!!"}),"resolved"===T&&Object(d.jsx)(v,{images:g,openModal:B}),g.length>0&&Object(d.jsx)(S,{onClick:function(){b((function(e){return e+1}))}}),I&&Object(d.jsx)(k,{image:C,closeModal:B})]})};a(43);o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__2tEiQ",galleryItemImage:"ImageGalleryItem_galleryItemImage__N8g8Y"}}},[[44,1,2]]]);
//# sourceMappingURL=main.3b66f44f.chunk.js.map