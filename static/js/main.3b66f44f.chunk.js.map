{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Services/Api.jsx","App.js","index.js","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","imageName","setImageName","className","s","searchbar","form","event","preventDefault","trim","alert","type","button","buttonLabel","size","input","name","value","onChange","currentTarget","toLowerCase","autocomplete","placeholder","ImageGalleryItem","props","tags","smallImage","openModal","galleryItem","onClick","galleryItemImage","src","alt","ImageGallery","images","imageGallery","map","image","tag","webformatURL","largeImageURL","id","Button","modalRoot","document","querySelector","Modal","closeModal","useEffect","window","addEventListener","hendelKeydown","removeEventListener","code","createPortal","overlay","target","modal","Api","fetchApi","page","fetch","then","response","ok","json","Promise","reject","Error","App","setPage","setImages","error","setError","showModal","setShowModal","selectedImage","setSelectedImage","status","setStatus","data","hits","scrollTo","top","body","scrollHeight","behavior","catch","toggleModal","resetState","color","height","width","timeout","message","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b66f44f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__126lY\",\"modal\":\"Modal_modal__2-XA9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1aO8M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2_pwb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2nKga\",\"form\":\"Searchbar_form__36pS6\",\"button\":\"Searchbar_button__vmJ49\",\"buttonLabel\":\"Searchbar_buttonLabel__-JJfe\",\"input\":\"Searchbar_input__jzXt-\"};","import { useState } from \"react\";\nimport { VscSearch } from \"react-icons/vsc\";\nimport s from \"../Searchbar/Searchbar.module.css\";\n\nfunction Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState(\"\");\n\n  const handleFormChange = (event) => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handelSubmit = (event) => {\n    event.preventDefault();\n\n    if (imageName.trim() === \"\") {\n      alert(\"Enter images and photos\");\n      return;\n    }\n\n    onSubmit(imageName);\n    setImageName(\"\");\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.form} onSubmit={handelSubmit}>\n        <button type=\"submit\" className={s.button}>\n          <span className={s.buttonLabel}>\n            <VscSearch size=\"2em\" />\n          </span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          name=\"imageName\"\n          value={imageName}\n          onChange={handleFormChange}\n          autocomplete=\"off\"\n          // autofocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n\n// export class Searchbar extends Component {\n//   state = {\n//     imageName: \"\",\n//   };\n\n//   handleFormChange = (event) => {\n//     this.setState({\n//       imageName: event.currentTarget.value.toLowerCase(),\n//     });\n//   };\n\n//   handelSubmit = (event) => {\n//     event.preventDefault();\n\n//     if (this.state.imageName.trim() === \"\") {\n//       alert(\"Enter images and photos\");\n//       return;\n//     }\n\n//     this.props.onSubmit(this.state.imageName);\n//     this.setState({ imageName: \"\" });\n//   };\n\n//   render() {\n//     return (\n//       <header className={s.searchbar}>\n//         <form className={s.form} onSubmit={this.handelSubmit}>\n//           <button type=\"submit\" className={s.button}>\n//             <span className={s.buttonLabel}>\n//               <VscSearch size=\"2em\" />\n//             </span>\n//           </button>\n\n//           <input\n//             className={s.input}\n//             type=\"text\"\n//             name=\"imageName\"\n//             value={this.state.imageName}\n//             onChange={this.handleFormChange}\n//             autocomplete=\"off\"\n//             // autofocus\n//             placeholder=\"Search images and photos\"\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\n// export default Searchbar;\n","import React from \"react\";\nimport s from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem(props) {\n  const { tags, smallImage, openModal } = props;\n  return (\n    <li className={s.galleryItem} onClick={openModal}>\n      <img className={s.galleryItemImage} src={smallImage} alt={tags} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"../ImageGallery/ImageGallery.module.css\";\n\nfunction ImageGallery(props) {\n  // console.log(props);\n  const { images, openModal } = props;\n  return (\n    <ul className={s.imageGallery}>\n      {images.map((image) => (\n        <ImageGalleryItem\n          key={image.id}\n          tag={image.tags}\n          smallImage={image.webformatURL}\n          openModal={() => openModal(image.largeImageURL, image.tags)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\nimport s from \"../Button/Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <div>\n      <button type=\"button\" className={s.button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"../Modal/Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ closeModal, image }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", hendelKeydown);\n    return () => {\n      window.removeEventListener(\"keydown\", hendelKeydown);\n    };\n  });\n\n  const hendelKeydown = (event) => {\n    if (event.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      closeModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleBackdropClick}>\n      <div className={s.modal}>\n        <img src={image.src} alt={image.alt} />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nexport default Modal;\n\n// class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener(\"keydown\", this.hendelKeydown);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener(\"keydown\", this.hendelKeydown);\n//   }\n\n//   hendelKeydown = (e) => {\n//     if (e.code === \"Escape\") {\n//       this.props.closeModal();\n//     }\n//   };\n\n//   handleBackdropClick = (event) => {\n//     if (event.currentTarget === event.target) {\n//       this.props.closeModal();\n//     }\n//   };\n\n//   render() {\n//     return createPortal(\n//       <div className={s.overlay} onClick={this.handleBackdropClick}>\n//         <div className={s.modal}>\n//           <img src={this.props.image.src} alt={this.props.image.alt} />\n//         </div>\n//       </div>,\n//       modalRoot\n//     );\n//   }\n// }\n\n// export default Modal;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"21859800-af94843fb327cc57780ddd667\";\n\nfunction fetchApi(imageName, page) {\n  return fetch(\n    `${BASE_URL}?q=${imageName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`There is no images with name ${imageName}`)\n    );\n  });\n}\n\nconst Api = { fetchApi };\n\nexport default Api;\n","import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Api from \"./Services/Api\";\n\nfunction App() {\n  const [imageName, setImageName] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n\n    setStatus(\"pending\");\n\n    Api.fetchApi(imageName, page)\n      .then((data) => data.hits)\n      .then((image) => {\n        setImages((images) => [...images, ...image]);\n        setStatus(\"resolved\");\n\n        if (page !== setPage) {\n          window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => {\n        setError(error);\n        setStatus(\"rejected\");\n      });\n  }, [imageName, page]);\n\n  const handleFormSubmit = (imageName) => {\n    setImageName(imageName);\n    resetState();\n  };\n\n  const handleButtonLoadMore = () => {\n    setPage((page) => page + 1);\n  };\n\n  const toggleModal = (src, alt) => {\n    // console.log(src,alt);\n    setShowModal(!showModal);\n    setSelectedImage({ src, alt });\n  };\n\n  const resetState = () => {\n    setPage(1);\n    setImages([]);\n    setStatus(\"idle\");\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleFormSubmit} />\n      {status === \"idle\" && <h1>Start your search </h1>}\n      {status === \"pending\" && (\n        <Loader\n          type=\"Watch\"\n          color=\"#00BFFF\"\n          height={150}\n          width={150}\n          timeout={3000} //3 secs\n        />\n      )}\n      {status === \"rejected\" && <h1>{error.message}</h1>}\n      {status === \"resolved\" && images.length < 1 && <h2>invalid name!!!</h2>}\n      {status === \"resolved\" && (\n        <ImageGallery images={images} openModal={toggleModal} />\n      )}\n      {images.length > 0 && <Button onClick={handleButtonLoadMore} />}\n      {showModal && <Modal image={selectedImage} closeModal={toggleModal} />}\n    </div>\n  );\n}\n\nexport default App;\n\n// export class App extends Component {\n//   state = {\n//     imageName: \"\",\n//     page: 1,\n//     images: [],\n//     error: null,\n//     showModal: false,\n//     selectedImage: null,\n//     status: \"idle\",\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     if (prevState.imageName !== this.state.imageName) {\n//       this.setState({ status: \"pending\", images: [], page: 1 });\n//       this.getImages();\n//     }\n\n//     if (prevState.page !== this.state.page) {\n//       this.setState({ status: \"pending\" });\n//       this.getImages();\n//     }\n\n//     if (prevState.images !== this.state.images) {\n//       window.scrollTo({\n//         top: document.body.scrollHeight,\n//         behavior: \"smooth\",\n//       });\n//     }\n//   }\n\n//   getImages = () => {\n//     const { imageName, page } = this.state;\n//     Api.fetchApi(imageName, page)\n//       .then((data) => data.hits)\n//       .then((images) =>\n//         this.setState((prevState) => ({\n//           images: [...prevState.images, ...images],\n//           status: \"resolved\",\n//         }))\n//       )\n//       .catch((error) => this.setState({ error, status: \"rejected\" }));\n//   };\n\n//   handleFormSubmit = (imageName) => {\n//     this.setState({ imageName: imageName });\n//   };\n\n//   handleButtonLoadMore = () => {\n//     this.setState((prevState) => ({ page: prevState.page + 1 }));\n//   };\n\n//   toggleModal = (src, alt) => {\n//     // console.log(src,alt);\n//     this.setState((state) => ({\n//       showModal: !state.showModal,\n//       selectedImage: { src, alt },\n//     }));\n//   };\n\n//   render() {\n//     return (\n//       <div className=\"App\">\n//         <Searchbar onSubmit={this.handleFormSubmit} />\n//         {this.state.status === \"idle\" && <h1>Start your search </h1>}\n//         {this.state.status === \"pending\" && (\n//           <Loader\n//             type=\"Watch\"\n//             color=\"#00BFFF\"\n//             height={150}\n//             width={150}\n//             timeout={3000} //3 secs\n//           />\n//         )}\n//         {this.state.status === \"rejected\" && (\n//           <h1>{this.state.error.message}</h1>\n//         )}\n//         {this.state.status === \"resolved\" && this.state.images.length < 1 && (\n//           <h2>invalid name!!!</h2>\n//         )}\n//         {this.state.status === \"resolved\" && (\n//           <ImageGallery\n//             images={this.state.images}\n//             openModal={this.toggleModal}\n//           />\n//         )}\n//         {this.state.images.length > 0 && (\n//           <Button onClick={this.handleButtonLoadMore} />\n//         )}\n//         {this.state.showModal && (\n//           <Modal\n//             image={this.state.selectedImage}\n//             closeModal={this.toggleModal}\n//           />\n//         )}\n//       </div>\n//     );\n//   }\n// }\n\n// export default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__2tEiQ\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__N8g8Y\"};"],"sourceRoot":""}